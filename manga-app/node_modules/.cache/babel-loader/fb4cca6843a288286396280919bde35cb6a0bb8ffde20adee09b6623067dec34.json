{"ast":null,"code":"// src/services/apiService.js\nimport axios from 'axios';\nconst BASE_URL = 'https://localhost:7066/api';\nexport const auth = async () => {\n  const authData = {\n    \"username\": \"Admin\",\n    \"password\": \"secret_admin\"\n  };\n  const response = await axios.post(`${BASE_URL}/Auth/login`, authData);\n  return response.data;\n};\nexport const getGenres = async () => {\n  const response = await axios.get(`${BASE_URL}/Genres`);\n  return response.data;\n};\nexport const getMangaReview = async mangaId => {\n  let reviews = [];\n  const response = await axios.get(`${BASE_URL}/Reviews`);\n  //console.log(\"mangaid: \" + mangaId + \", response: \" + response.data.toString());\n  for (let review of response.data) {\n    const submangaid = review[\"mangaId\"];\n    console.log(\"submangaid: \" + submangaid + \", mangaid: \" + mangaId + \", review: \" + review.toString());\n    if (submangaid === mangaId) {\n      reviews.push(review);\n    }\n  }\n  return reviews;\n};\nexport const putReview = async (reviewid, mangaid, description, grade) => {\n  const reviewData = {\n    mangaId: mangaid,\n    description: description,\n    grade: grade,\n    id: reviewid\n  };\n  const response = await axios.put(`${BASE_URL}/Reviews/${reviewid}`, reviewData);\n  return response.data;\n};\nexport const postReview = async (mangaid, description, grade) => {\n  const reviewData = {\n    mangaId: mangaid,\n    description: description,\n    grade: grade\n  };\n  const response = await axios.post(`${BASE_URL}/Reviews`, reviewData);\n  return response.data;\n};\nexport const getAuthors = async () => {\n  const authData = auth();\n  let config = {\n    headers: {\n      \"Authorization\": \"Bearer \" + authData[\"token\"]\n    }\n  };\n  const response = await axios.get(`${BASE_URL}/Authors`);\n  return response.data;\n};\nexport const getMangas = async () => {\n  const response = await axios.get(`${BASE_URL}/Mangas`);\n  return response.data;\n};\nexport const getReviews = async () => {\n  const response = await axios.get(`${BASE_URL}/Reviews`);\n  return response.data;\n};","map":{"version":3,"names":["axios","BASE_URL","auth","authData","response","post","data","getGenres","get","getMangaReview","mangaId","reviews","review","submangaid","console","log","toString","push","putReview","reviewid","mangaid","description","grade","reviewData","id","put","postReview","getAuthors","config","headers","getMangas","getReviews"],"sources":["C:/Users/cutac/Desktop/123/frontback.client/manga-app/src/services/apiService.js"],"sourcesContent":["// src/services/apiService.js\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'https://localhost:7066/api';\r\n\r\nexport const auth = async () => {\r\n    const authData = {\r\n        \"username\": \"Admin\",\r\n        \"password\": \"secret_admin\",\r\n    };\r\n\r\n    const response = await axios.post(`${BASE_URL}/Auth/login`, authData);\r\n    return response.data;\r\n}\r\n\r\nexport const getGenres = async () => {\r\n    const response = await axios.get(`${BASE_URL}/Genres`);\r\n    \r\n    return response.data;\r\n};\r\n\r\nexport const getMangaReview = async (mangaId) => {\r\n    let reviews = []\r\n\r\n    const response = await axios.get(`${BASE_URL}/Reviews`);\r\n    //console.log(\"mangaid: \" + mangaId + \", response: \" + response.data.toString());\r\n    for (let review of response.data) {\r\n        const submangaid = review[\"mangaId\"];\r\n        console.log(\"submangaid: \" + submangaid + \", mangaid: \" + mangaId + \", review: \" + review.toString());\r\n        if (submangaid === mangaId) {\r\n            reviews.push(review);\r\n        }\r\n    }\r\n\r\n    return reviews;\r\n};\r\n\r\nexport const putReview = async (reviewid, mangaid, description, grade) => {\r\n    const reviewData = {\r\n        mangaId: mangaid,\r\n        description: description,\r\n        grade: grade,\r\n        id: reviewid\r\n    };\r\n  \r\n    const response = await axios.put(`${BASE_URL}/Reviews/${reviewid}`, reviewData);\r\n    return response.data\r\n};\r\n\r\nexport const postReview = async ( mangaid, description, grade) => {\r\n    const reviewData = {\r\n        mangaId: mangaid,\r\n        description: description,\r\n        grade: grade,\r\n    };\r\n  \r\n    const response = await axios.post(`${BASE_URL}/Reviews`, reviewData);\r\n    return response.data\r\n};\r\n\r\nexport const getAuthors = async () => {\r\n    const authData = auth();\r\n\r\n    let config = {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + authData[\"token\"],\r\n        }\r\n    }\r\n\r\n    const response = await axios.get(`${BASE_URL}/Authors`);\r\n    return response.data;\r\n};\r\n\r\nexport const getMangas = async () => {\r\n    const response = await axios.get(`${BASE_URL}/Mangas`);\r\n    return response.data;\r\n};\r\n\r\nexport const getReviews = async () => {\r\n    const response = await axios.get(`${BASE_URL}/Reviews`);\r\n    return response.data;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}